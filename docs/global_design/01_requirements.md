# SubsQ 要件定義書

## 🏗️ 背景

日本では、個人向けのサブスクリプション管理ツールはモバイルアプリが中心です。マネーフォワードMEやZaimといった家計簿アプリにサブスク管理機能が含まれていますが、Webブラウザで使えるサブスク特化のサービスはほとんど存在しません。

一方、米国ではRocket MoneyやTrackMySubsなど、サブスク管理に特化したWebサービスが普及しています。

この市場の空白を埋めるため、日本向けのシンプルなサブスク管理Webアプリ「SubsQ」を開発します。

## ❗ 課題

- **把握できない**：契約中のサブスクを一覧で確認できる場所がない
- **総額が分からない**：月額・年額が混在しており、実際にいくら払っているか把握しづらい
- **既存ツールが複雑**：家計簿アプリは機能が多すぎて、サブスク管理だけしたい人には重い

## 🎯 目的

- 契約中のサブスクを一覧で把握できる仕組みを作る
- 月額換算・年額換算で支払い総額を可視化する
- 必要な機能だけに絞り、すぐに使い始められるシンプルなUXを提供する

## ⚙️ 機能要件（MVP版）

### 📝 サブスク登録・管理

| 機能 | 詳細 |
|------|------|
| サブスク登録 | 手動で入力して登録 |
| サブスク編集 | 登録済みの情報を変更できる |
| サブスク削除 | 不要なサブスクを削除できる（物理削除） |

### 💳 支払い方法管理

| 機能 | 詳細 |
|------|------|
| 支払い方法登録 | 任意の名前で支払い方法を登録（例: 楽天カード、三井住友デビット、PayPal等） |
| 支払い方法編集 | 登録済みの支払い方法名を変更できる |
| 支払い方法削除 | 不要な支払い方法を削除できる |
| 使用中の支払い方法 | サブスクで使用中の支払い方法は削除不可 |
| インライン登録 | サブスク登録画面から直接、新しい支払い方法を追加可能 |

**登録方法:**
- **設定画面から**: 支払い方法一覧画面で事前に登録
- **サブスク登録時**: 支払い方法選択欄に「+ 新しい支払い方法を追加」ボタンを配置し、その場で登録可能

**入力項目：**

| 項目 | 必須/任意 | 備考 |
|------|----------|------|
| サービス名 | 必須 | Netflix、Spotifyなど |
| 金額 | 必須 | 数値入力（円） |
| 請求サイクル | 必須 | 月額 / 年額 |
| 次回請求日 | 必須 | カレンダー選択 |
| 支払い方法 | 任意 | ドロップダウンで選択 + インライン追加可能 |
| メモ | 任意 | 自由記述 |

### 📋 一覧・表示

| 機能 | 詳細 |
|------|------|
| サブスク一覧 | カード形式で表示 |
| 合計金額表示 | 月額換算・年額換算の両方を表示 |
| 次回請求日の自動更新 | 請求日が過去になった場合、請求サイクルに応じて自動更新（月額: +1ヶ月、年額: +1年） |

※ ソート機能はMVPでは実装しない

### 🔑 認証・アカウント

| 機能 | 詳細 |
|------|------|
| ログイン | Google OAuth |
| ログアウト | セッション終了 |
| 退会 | アカウントと関連データを削除 |

※ マイページ（プロフィール表示）はMVPでは実装しない

## 💰 料金計算ロジック

| 計算方法 | 詳細 |
|----------|------|
| 月額換算 | 年額サブスクは ÷ 12 で計算 |
| 年額換算 | 月額サブスクは × 12 で計算 |
| 小数点処理 | 円未満切り捨て |

**計算例:**
- 月額サブスク: ¥1,000 + 年額サブスク: ¥12,000 の場合
  - 月額換算合計: ¥1,000 + ¥1,000 = ¥2,000
  - 年額換算合計: ¥12,000 + ¥12,000 = ¥24,000

## 🌱 将来の拡張予定

- **カレンダービュー**：月間カレンダーで請求日を可視化、日付ごとの請求額を表示
- **通知機能**：請求日前のメール通知（1日前/3日前/7日前から選択）
- **詳細な請求サイクル**：2ヶ月ごと、毎月第X曜日などの柔軟な設定
- **カテゴリ機能**：動画/音楽/ツールなどでサブスクを分類
- **ソート・フィルタ**：金額順、請求日順などで並び替え
- **解約リマインド**：無料トライアル終了前の通知
- **複数通貨対応**：ドル建てサービスへの対応
- **統計・分析機能**：月別支出推移、カテゴリ別内訳グラフ

## 🔐 非機能要件（MVP）

| 項目 | 内容 |
|------|------|
| 認証 | Google OAuth |
| データベース | Postgres（Neon） |
| UI | PCブラウザ対応（スマホ最適化なし） |
| パフォーマンス | 軽量シングルユーザー規模を想定 |

## 💡 他ツールとの差別化

| 比較項目 | マネーフォワード / Zaim | SubsQ |
|----------|------------------------|-------|
| 対象 | 家計簿全般 | サブスク特化 |
| 機能数 | 多い（学習コスト高） | 最小限（すぐ使える） |
| 連携 | 銀行・カード連携が必要 | 手動登録のみ（連携不要） |
| プラットフォーム | モバイルアプリ中心 | Webブラウザ |